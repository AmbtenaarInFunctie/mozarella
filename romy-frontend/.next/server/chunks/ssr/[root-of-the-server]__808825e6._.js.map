{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///Users/rogierbarendregt/Documents/GitHub/mozarella/romy-frontend/src/app/%28private%29/page.tsx"],"sourcesContent":["\"use client\";\nimport { useMutation } from \"@tanstack/react-query\";\nimport { Navbar, Container, Nav, Row, Col, Button } from \"react-bootstrap\";\nimport { motion } from \"framer-motion\";\nimport { useEffect, useState } from \"react\";\nimport { v4 as uuid } from \"uuid\";\n// Simulated API call (replace with your real backend)\nasync function fetchAIResponse(message: string): Promise<{ reply: string }> {\n  return new Promise((resolve) => {\n    setTimeout(() => {\n      resolve({ reply: `ROmy: ${message.split(\"\").reverse().join(\"\")}` });\n    }, 500);\n  });\n}\n\nfunction getCookie(cname: string) {\n  const name = cname + \"=\";\n  const ca = document.cookie.split(\";\");\n  for (let i = 0; i < ca.length; i++) {\n    let c = ca[i];\n    while (c.charAt(0) == \" \") {\n      c = c.substring(1);\n    }\n    if (c.indexOf(name) == 0) {\n      return c.substring(name.length, c.length);\n    }\n  }\n  return null;\n}\n\nfunction getAllChats() {\n  return JSON.parse(getCookie(\"chats\") ?? \"[]\");\n}\n\nexport default function Home() {\n  const [selectedChat, setSelectedChat] = useState(\"\");\n\n  async function createNewChat() {\n    const newUuid = uuid();\n    const x = getCookie(\"chats\");\n    const updatedChats = [newUuid, ...getAllChats()];\n\n    document.cookie = `chats=${JSON.stringify(updatedChats)}; path=/; max-age=${\n      60 * 60 * 24 * 7\n    }`;\n\n    setSelectedChat(newUuid);\n  }\n\n  const [messages, setMessages] = useState<\n    { id: number; role: string; content: string }[]\n  >([]);\n  const [input, setInput] = useState(\"\");\n\n  const mutation = useMutation({\n    mutationFn: fetchAIResponse,\n    onSuccess: (data: { reply: string }) => {\n      setMessages((prev) => [\n        ...prev,\n        { id: Date.now(), role: \"assistant\", content: data.reply },\n      ]);\n    },\n  });\n\n  function getMessagesFromChat(uuid: string) {\n    return JSON.parse(getCookie(`chat-${uuid}`) ?? \"[]\");\n  }\n\n  useEffect(() => {\n    document.cookie = `chat-${selectedChat}=${JSON.stringify(\n      messages\n    )}; path=/; max-age=${60 * 60 * 24 * 7}`;\n  }, [messages]);\n\n  useEffect(() => {\n    setMessages(getMessagesFromChat(selectedChat));\n  }, [selectedChat]);\n\n  const handleSend = () => {\n    if (!input.trim()) return;\n    const newMessage = { id: Date.now(), role: \"user\", content: input };\n    setMessages((prev) => [...prev, newMessage]);\n    mutation.mutate(input);\n    setInput(\"\");\n  };\n\n  return (\n    <Row>\n      <input type=\"checkbox\" className=\"show-hide-trigger\" />\n      <Col xs={12} className=\"bg-white pt-3 vh-100 vw-100 show-hide-panel\" id=\"chatHistory\">\n        <h2>Antwoorden op jouw eerdere vragen</h2>\n        <ol>\n          {getAllChats().map((element: string) => {\n            return (\n              getMessagesFromChat(element).length > 0 && (\n                <li key={element} onClick={() => setSelectedChat(element)}>\n                  {element}\n                </li>\n              )\n            );\n          })}\n        </ol>\n        <Button onClick={createNewChat}>Stel een nieuwe vraag</Button>\n      </Col>\n      <Col xs={12}>\n        <div\n          className=\"d-flex flex-column vh-100 vw-100 mx-auto chat-canvas\"\n          style={{ maxWidth: \"100%\" }}\n        >\n          <div className=\"flex-grow-1 overflow-auto p-3\">\n            {messages.length > 0 ? (\n              messages.map((msg) => (\n                <motion.div\n                  key={msg.id}\n                  initial={{ opacity: 0, y: 10 }}\n                  animate={{ opacity: 1, y: 0 }}\n                  transition={{ duration: 0.3 }}\n                  className={`d-flex mb-2 ${\n                    msg.role === \"user\"\n                      ? \"justify-content-start\"\n                      : \"justify-content-start\"\n                  }`}\n                >\n                  <div\n                    className={`rounded border-0 p-3 romy-chat fs-5 ${\n                      msg.role === \"user\"\n                        ? \"bg-success\"\n                        : \"bg-white border\"\n                    }`}\n                    style={{ maxWidth: \"70%\" }}\n                  >\n                    {msg.content}\n                  </div>\n                </motion.div>\n              ))\n            ) : (\n              <h2>Hoi, hoe kan ik je helpen?</h2>\n            )}\n\n            {mutation.isPending && (\n              <div className=\"text-muted small\">ROmy schrijftâ€¦</div>\n            )}\n          </div>\n\n          {/* Input */}\n          <div className=\"p-3 bg-white d-flex gap-3\">\n            <input\n              type=\"text\"\n              value={input}\n              onChange={(e) => setInput(e.target.value)}\n              onKeyDown={(e) => e.key === \"Enter\" && handleSend()}\n              placeholder=\"Waar kan ik je mee helpen?\"\n              className=\"border-2 form-control fs-5 p-3\"\n            />\n            <Button onClick={handleSend} className=\"btn fs-5 btn-primary\">\n              Stel je vraag\n            </Button>\n          </div>\n        </div>\n      </Col>\n    </Row>\n  );\n\n  return <div></div>;\n\n  // return (\n  //   <div>\n  //     {/* Header */}\n  //     <Navbar bg=\"dark\" variant=\"dark\" expand=\"lg\">\n  //       <Container>\n  //         <Navbar.Brand href=\"#home\">MyLandingPage</Navbar.Brand>\n  //         <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\n  //         <Navbar.Collapse id=\"basic-navbar-nav\">\n  //           <Nav className=\"ms-auto\">\n  //             <Nav.Link href=\"#home\">Home</Nav.Link>\n  //             <Nav.Link href=\"#features\">Features</Nav.Link>\n  //             <Nav.Link href=\"#contact\">Contact</Nav.Link>\n  //           </Nav>\n  //         </Navbar.Collapse>\n  //       </Container>\n  //     </Navbar>\n\n  //     {/* Main Content */}\n  //     <Container className=\"flex-grow-1 d-flex flex-column justify-content-center my-5\">\n  //       <Row className=\"text-center mb-4\">\n  //         <Col>\n  //           <h1>Welcome to Our Landing Page</h1>\n  //           <p>Discover the features and benefits of our product.</p>\n  //           <Button variant=\"primary\">Get Started</Button>\n  //         </Col>\n  //       </Row>\n  //       <Row>\n  //         <Col md={4} className=\"mb-3\">\n  //           <div className=\"p-4 border rounded h-100\">\n  //             <h3>Feature One</h3>\n  //             <p>Explain the first feature of your product here.</p>\n  //           </div>\n  //         </Col>\n  //         <Col md={4} className=\"mb-3\">\n  //           <div className=\"p-4 border rounded h-100\">\n  //             <h3>Feature Two</h3>\n  //             <p>Explain the second feature of your product here.</p>\n  //           </div>\n  //         </Col>\n  //         <Col md={4} className=\"mb-3\">\n  //           <div className=\"p-4 border rounded h-100\">\n  //             <h3>Feature Three</h3>\n  //             <p>Explain the third feature of your product here.</p>\n  //           </div>\n  //         </Col>\n  //       </Row>\n  //     </Container>\n\n  //     {/* Footer */}\n  //     <footer className=\"bg-dark text-white text-center py-4\">\n  //       <Container>\n  //         <p>&copy; 2025 MyLandingPage. All rights reserved.</p>\n  //       </Container>\n  //     </footer>\n  //   </div>\n  // );\n}"],"names":[],"mappings":"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","debugId":null}}]
}